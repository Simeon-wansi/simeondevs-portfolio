<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Visibility Debug Test</title>
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <style>
        body {
            padding: 2rem;
            background: #0a0014;
        }
        .test-section {
            margin: 3rem 0;
            padding: 2rem;
            border: 2px solid #9d4edd;
            border-radius: 10px;
        }
        .test-title {
            color: #ffd60a;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        .debug-info {
            background: rgba(255, 214, 10, 0.1);
            padding: 1rem;
            margin: 1rem 0;
            border-left: 3px solid #ffd60a;
            color: #fff;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1 style="color: #ffd60a;">Card Visibility Debug Test</h1>

    <!-- TEST 1: Hardcoded Visible Card -->
    <div class="test-section">
        <h2 class="test-title">TEST 1: Hardcoded Card (No JS)</h2>
        <div class="blog-grid">
            <div class="blog-card" style="opacity: 1 !important; visibility: visible !important; display: block !important; min-height: 200px; background: rgba(26, 10, 46, 0.8) !important; border: 2px solid red;">
                <div class="blog-header">
                    <div class="blog-date">Test Date</div>
                    <h3>TEST: Hardcoded Blog Card</h3>
                </div>
                <div class="blog-excerpt">
                    <p>This is a test card with inline styles. If you can see this, CSS is loading.</p>
                </div>
            </div>
        </div>
        <div class="debug-info" id="test1-result"></div>
    </div>

    <!-- TEST 2: JavaScript Created Card -->
    <div class="test-section">
        <h2 class="test-title">TEST 2: JavaScript Created Card</h2>
        <div class="blog-grid" id="test2-container"></div>
        <div class="debug-info" id="test2-result"></div>
    </div>

    <!-- TEST 3: Check Computed Styles -->
    <div class="test-section">
        <h2 class="test-title">TEST 3: Computed Style Analysis</h2>
        <div class="blog-grid" id="test3-container">
            <div class="blog-card" id="test3-card">
                <div class="blog-header">
                    <h3>Style Test Card</h3>
                </div>
                <div class="blog-excerpt">
                    <p>Checking computed styles...</p>
                </div>
            </div>
        </div>
        <div class="debug-info" id="test3-result"></div>
    </div>

    <!-- TEST 4: Project Card Test -->
    <div class="test-section">
        <h2 class="test-title">TEST 4: Project Card Test</h2>
        <div class="projects-grid" id="test4-container">
            <div class="project-card" id="test4-card">
                <div class="project-header">
                    <h3>Test Project Card</h3>
                </div>
                <div class="project-content">
                    <p>Testing project card visibility</p>
                </div>
            </div>
        </div>
        <div class="debug-info" id="test4-result"></div>
    </div>

    <script>
        // TEST 1: Check hardcoded card
        setTimeout(() => {
            const hardcodedCard = document.querySelector('.test-section:nth-child(2) .blog-card');
            const styles = window.getComputedStyle(hardcodedCard);
            document.getElementById('test1-result').innerHTML = `
                <strong>TEST 1 RESULTS:</strong><br>
                Card found: ${hardcodedCard ? 'YES ✅' : 'NO ❌'}<br>
                Opacity: ${styles.opacity}<br>
                Visibility: ${styles.visibility}<br>
                Display: ${styles.display}<br>
                Width: ${styles.width}<br>
                Height: ${styles.height}<br>
                Background: ${styles.background}<br>
                Position: ${styles.position}<br>
                Transform: ${styles.transform}
            `;
        }, 500);

        // TEST 2: Create card with JavaScript
        setTimeout(() => {
            const container = document.getElementById('test2-container');
            const card = document.createElement('div');
            card.className = 'blog-card';
            card.innerHTML = `
                <div class="blog-header">
                    <h3>JS Created Card</h3>
                </div>
                <div class="blog-excerpt">
                    <p>Created by JavaScript</p>
                </div>
            `;
            container.appendChild(card);

            const styles = window.getComputedStyle(card);
            document.getElementById('test2-result').innerHTML = `
                <strong>TEST 2 RESULTS:</strong><br>
                Card created: YES ✅<br>
                Card in DOM: ${document.contains(card) ? 'YES ✅' : 'NO ❌'}<br>
                Opacity: ${styles.opacity}<br>
                Visibility: ${styles.visibility}<br>
                Display: ${styles.display}<br>
                Width: ${styles.width}<br>
                Height: ${styles.height}<br>
                Min-Height: ${styles.minHeight}<br>
                Transform: ${styles.transform}<br>
                Z-Index: ${styles.zIndex}
            `;
        }, 1000);

        // TEST 3: Analyze all CSS affecting blog-card
        setTimeout(() => {
            const card = document.getElementById('test3-card');
            const styles = window.getComputedStyle(card);
            const allStyles = {};
            for (let i = 0; i < styles.length; i++) {
                const prop = styles[i];
                if (prop.includes('opacity') || prop.includes('visibility') || prop.includes('display') ||
                    prop.includes('transform') || prop.includes('position') || prop.includes('width') ||
                    prop.includes('height')) {
                    allStyles[prop] = styles.getPropertyValue(prop);
                }
            }

            document.getElementById('test3-result').innerHTML = `
                <strong>TEST 3 RESULTS:</strong><br>
                ${Object.entries(allStyles).map(([key, val]) => `${key}: ${val}`).join('<br>')}
            `;
        }, 1500);

        // TEST 4: Project card test
        setTimeout(() => {
            const card = document.getElementById('test4-card');
            const styles = window.getComputedStyle(card);
            document.getElementById('test4-result').innerHTML = `
                <strong>TEST 4 RESULTS (Project Card):</strong><br>
                Opacity: ${styles.opacity}<br>
                Visibility: ${styles.visibility}<br>
                Display: ${styles.display}<br>
                Width: ${styles.width}<br>
                Height: ${styles.height}<br>
                Transform: ${styles.transform}
            `;
        }, 2000);

        // Global diagnostic
        setTimeout(() => {
            console.log('=== DIAGNOSTIC REPORT ===');
            console.log('All .blog-card elements:', document.querySelectorAll('.blog-card').length);
            console.log('All .project-card elements:', document.querySelectorAll('.project-card').length);

            document.querySelectorAll('.blog-card, .project-card').forEach((card, i) => {
                const styles = window.getComputedStyle(card);
                console.log(`Card ${i}:`, {
                    opacity: styles.opacity,
                    visibility: styles.visibility,
                    display: styles.display,
                    width: styles.width,
                    height: styles.height,
                    transform: styles.transform
                });
            });
        }, 2500);
    </script>
</body>
</html>
